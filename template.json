{
    "$schema": "https://schema.management.azure.com/schemas/2015-01-01/deploymentTemplate.json#",
    "contentVersion": "1.0.0.0",
    "parameters": {
        "esg_image_name": {
            "defaultValue": "85_2376",
            "type": "string"
        },
        "virtualNetworks_ESG1_name": {
            "defaultValue": "ESG1",
            "type": "string"
        },
        "storageAccounts_esg1_name": {
            "defaultValue": "emaildev",
            "type": "string"
        },
        "publicIPAddresses_lbip_name": {
            "defaultValue": "lbip",
            "type": "string"
        },
        "virtualMachines_ESG_2376_001_name": {
            "defaultValue": "ESG-2376-001",
            "type": "string"
        },
        "virtualMachines_ESG_2376_002_name": {
            "defaultValue": "ESG-2376-002",
            "type": "string"
        },
        "networkInterfaces_Pinterface_name": {
            "defaultValue": "Pinterface",
            "type": "string"
        },
        "loadBalancers_esgLoadBalancer_name": {
            "defaultValue": "esgLoadBalancer",
            "type": "string"
        },
        "networkSecurityGroups_ESG1nsg_name": {
            "defaultValue": "ESG1nsg",
            "type": "string"
        },
        "networkSecurityGroups_ESG2nsg_name": {
            "defaultValue": "ESG2nsg",
            "type": "string"
        },
        "virtualMachines_Win2016_85_001_name": {
            "defaultValue": "Win2016-85-001",
            "type": "string"
        },
        "networkInterfaces_esg_2376_00186_name": {
            "defaultValue": "esg-2376-00186",
            "type": "string"
        },
        "networkInterfaces_Pinterface_002_name": {
            "defaultValue": "Pinterface-002",
            "type": "string"
        },
        "networkInterfaces_esg_2376_002907_name": {
            "defaultValue": "esg-2376-002907",
            "type": "string"
        },
        "publicIPAddresses_ESG_2376_001_ip_name": {
            "defaultValue": "ESG-2376-001-ip",
            "type": "string"
        },
        "publicIPAddresses_ESG_2376_002_ip_name": {
            "defaultValue": "ESG-2376-002-ip",
            "type": "string"
        },
        "availabilitySets_ESG1AvailabilitySet_name": {
            "defaultValue": "ESG1AvailabilitySet",
            "type": "string"
        },
        "publicIPAddresses_esg1gatewaypublicIP_name": {
            "defaultValue": "esg1gatewaypublicIP",
            "type": "string"
        },
        "virtualNetworkGateways_VNetGatewayESG1_name": {
            "defaultValue": "VNetGatewayESG1",
            "type": "string"
        },
        "subnets_ESG1Subnet_name": {
            "defaultValue": "ESG1Subnet",
            "type": "string"
        },
        "subnets_ESG2Subnet_name": {
            "defaultValue": "ESG2Subnet",
            "type": "string"
        },
        "subnets_GatewaySubnet_name": {
            "defaultValue": "GatewaySubnet",
            "type": "string"
        },
        "securityRules_SSH_name": {
            "defaultValue": "SSH",
            "type": "string"
        },
        "securityRules_FTP_name": {
            "defaultValue": "FTP",
            "type": "string"
        },
        "securityRules_SMTP_name": {
            "defaultValue": "SMTP",
            "type": "string"
        },
        "securityRules_SMTPoutbound_name": {
            "defaultValue": "SMTPoutbound",
            "type": "string"
        }
    },
    "variables": {},
    "resources": [
        {
            "comments": "Generalized from resource: '/subscriptions/ee4f28c5-8b36-4e60-bae1-b37a145063f7/resourceGroups/ESG1/providers/Microsoft.Compute/availabilitySets/ESG1AvailabilitySet'.",
            "type": "Microsoft.Compute/availabilitySets",
            "sku": {
                "name": "Aligned"
            },
            "name": "[parameters('availabilitySets_ESG1AvailabilitySet_name')]",
            "apiVersion": "2016-04-30-preview",
            "location": "centralus",
            "tags": {},
            "scale": null,
            "properties": {
                "platformUpdateDomainCount": 5,
                "platformFaultDomainCount": 2,
                "virtualMachines": [
                    {
                        "id": "[resourceId('Microsoft.Compute/virtualMachines', parameters('virtualMachines_ESG_2376_001_name'))]"
                    },
                    {
                        "id": "[resourceId('Microsoft.Compute/virtualMachines', parameters('virtualMachines_ESG_2376_002_name'))]"
                    }
                ]
            },
            "dependsOn": [
            ]
        },
        {
            "comments": "Generalized from resource: '/subscriptions/ee4f28c5-8b36-4e60-bae1-b37a145063f7/resourceGroups/ESG1/providers/Microsoft.Compute/images/85_2376'.",
            "type": "Microsoft.Compute/images",
            "name": "[parameters('esg_image_name')]",
            "apiVersion": "2016-04-30-preview",
            "location": "centralus",
            "scale": null,
            "properties": {
                "storageProfile": {
                    "osDisk": {
                        "osType": "Linux",
                        "osState": "Generalized",
                        "diskSizeGB": 101,
                        "blobUri": "[concat('https', '://', parameters('storageAccounts_esg1_name'), '.blob.core.windows.net', concat('/esg1/Appliance_Main_', parameters('esg_image_name'),'.vhd'))]",
                        "caching": "ReadWrite",
                        "storageAccountType": "Standard_LRS"
                    },
                    "dataDisks": [
                        {
                            "lun": 0,
                            "diskSizeGB": 100,
                            "blobUri": "[concat('https', '://', parameters('storageAccounts_esg1_name'), '.blob.core.windows.net', concat('/esg1/DataDisk.vhd'))]",
                            "caching": "ReadWrite",
                            "storageAccountType": "Standard_LRS"
                        }
                    ]
                }
            }
        },        
        {
            "comments": "Generalized from resource: '/subscriptions/ee4f28c5-8b36-4e60-bae1-b37a145063f7/resourceGroups/ESG1/providers/Microsoft.Compute/virtualMachines/ESG-2376-001'.",
            "type": "Microsoft.Compute/virtualMachines",
            "name": "[parameters('virtualMachines_ESG_2376_001_name')]",
            "apiVersion": "2016-04-30-preview",
            "location": "centralus",
            "tags": {},
            "scale": null,
            "properties": {
                "availabilitySet": {
                    "id": "[resourceId('Microsoft.Compute/availabilitySets', parameters('availabilitySets_ESG1AvailabilitySet_name'))]"
                },
                "hardwareProfile": {
                    "vmSize": "Standard_A3"
                },
                "storageProfile": {
                    "imageReference": {
                        "id": "[resourceId('Microsoft.Compute/images', parameters('esg_image_name'))]"
                    }
                },
                "osProfile": {
                    "computerName": "[parameters('virtualMachines_ESG_2376_001_name')]",
                    "adminUsername": "azureuser",
                    "adminPassword": "websense#123",
                    "linuxConfiguration": {
                        "disablePasswordAuthentication": false
                    },
                    "secrets": []
                },
                "networkProfile": {
                    "networkInterfaces": [
                        {
                            "id": "[resourceId('Microsoft.Network/networkInterfaces', parameters('networkInterfaces_esg_2376_00186_name'))]",
                            "properties": {
                                "primary": true
                            }
                        },
                        {
                            "id": "[resourceId('Microsoft.Network/networkInterfaces', parameters('networkInterfaces_Pinterface_name'))]",
                            "properties": {
                                "primary": false
                            }
                        }
                    ]
                },
                "diagnosticsProfile": {
                    "bootDiagnostics": {
                        "enabled": true,
                        "storageUri": "https://emaildevdiag637.blob.core.windows.net/"
                    }
                }
            },
            "dependsOn": [
                "[resourceId('Microsoft.Compute/images', parameters('esg_image_name'))]",
                "[resourceId('Microsoft.Compute/availabilitySets', parameters('availabilitySets_ESG1AvailabilitySet_name'))]",
                "[resourceId('Microsoft.Network/networkInterfaces', parameters('networkInterfaces_esg_2376_00186_name'))]",
                "[resourceId('Microsoft.Network/networkInterfaces', parameters('networkInterfaces_Pinterface_name'))]"
            ]
        },
        {
            "comments": "Generalized from resource: '/subscriptions/ee4f28c5-8b36-4e60-bae1-b37a145063f7/resourceGroups/ESG1/providers/Microsoft.Compute/virtualMachines/ESG-2376-002'.",
            "type": "Microsoft.Compute/virtualMachines",
            "name": "[parameters('virtualMachines_ESG_2376_002_name')]",
            "apiVersion": "2016-04-30-preview",
            "location": "centralus",
            "tags": {},
            "scale": null,
            "properties": {
                "availabilitySet": {
                    "id": "[resourceId('Microsoft.Compute/availabilitySets', parameters('availabilitySets_ESG1AvailabilitySet_name'))]"
                },
                "hardwareProfile": {
                    "vmSize": "Standard_A3"
                },
                "storageProfile": {
                    "imageReference": {
                        "id": "[resourceId('Microsoft.Compute/images', parameters('esg_image_name'))]"
                    }
                },
                "osProfile": {
                    "computerName": "[parameters('virtualMachines_ESG_2376_002_name')]",
                    "adminUsername": "azureuser",
                    "adminPassword": "websense#123",
                    "linuxConfiguration": {
                        "disablePasswordAuthentication": false
                    },
                    "secrets": []
                },
                "networkProfile": {
                    "networkInterfaces": [
                        {
                            "id": "[resourceId('Microsoft.Network/networkInterfaces', parameters('networkInterfaces_esg_2376_002907_name'))]",
                            "properties": {
                                "primary": true
                            }
                        },
                        {
                            "id": "[resourceId('Microsoft.Network/networkInterfaces', parameters('networkInterfaces_Pinterface_002_name'))]",
                            "properties": {
                                "primary": false
                            }
                        }
                    ]
                },
                "diagnosticsProfile": {
                    "bootDiagnostics": {
                        "enabled": true,
                        "storageUri": "https://emaildevdiag637.blob.core.windows.net/"
                    }
                }
            },
            "dependsOn": [
                "[resourceId('Microsoft.Compute/images', parameters('esg_image_name'))]",
                "[resourceId('Microsoft.Compute/availabilitySets', parameters('availabilitySets_ESG1AvailabilitySet_name'))]",
                "[resourceId('Microsoft.Network/networkInterfaces', parameters('networkInterfaces_esg_2376_002907_name'))]",
                "[resourceId('Microsoft.Network/networkInterfaces', parameters('networkInterfaces_Pinterface_002_name'))]"
            ]
        },
        {
            "comments": "Generalized from resource: '/subscriptions/ee4f28c5-8b36-4e60-bae1-b37a145063f7/resourceGroups/ESG1/providers/Microsoft.Network/loadBalancers/esgLoadBalancer'.",
            "type": "Microsoft.Network/loadBalancers",
            "name": "[parameters('loadBalancers_esgLoadBalancer_name')]",
            "apiVersion": "2017-06-01",
            "location": "centralus",
            "scale": null,
            "properties": {
                "provisioningState": "Succeeded",
                "resourceGuid": "8a484e12-efd9-408a-a41b-c1885e7a76ed",
                "frontendIPConfigurations": [
                    {
                        "name": "LoadBalancerFrontEnd",
                        "etag": "W/\"d4e2859b-9b22-4f7c-a5d3-b202a051caa7\"",
                        "properties": {
                            "provisioningState": "Succeeded",
                            "privateIPAllocationMethod": "Dynamic",
                            "publicIPAddress": {
                                "id": "[resourceId('Microsoft.Network/publicIPAddresses', parameters('publicIPAddresses_lbip_name'))]"
                            }
                        }
                    }
                ],
                "backendAddressPools": [
                    {
                        "name": "ESG1Backpool",
                        "etag": "W/\"d4e2859b-9b22-4f7c-a5d3-b202a051caa7\"",
                        "properties": {
                            "provisioningState": "Succeeded"
                        }
                    }
                ],
                "loadBalancingRules": [],
                "probes": [
                    {
                        "name": "ESG1HP",
                        "etag": "W/\"d4e2859b-9b22-4f7c-a5d3-b202a051caa7\"",
                        "properties": {
                            "provisioningState": "Succeeded",
                            "protocol": "Tcp",
                            "port": 25,
                            "intervalInSeconds": 5,
                            "numberOfProbes": 2
                        }
                    }
                ],
                "inboundNatRules": [],
                "outboundNatRules": [],
                "inboundNatPools": []
            },
            "dependsOn": [
                "[resourceId('Microsoft.Network/publicIPAddresses', parameters('publicIPAddresses_lbip_name'))]"
            ]
        },
        {
            "comments": "Generalized from resource: '/subscriptions/ee4f28c5-8b36-4e60-bae1-b37a145063f7/resourceGroups/ESG1/providers/Microsoft.Network/networkInterfaces/esg-2376-00186'.",
            "type": "Microsoft.Network/networkInterfaces",
            "name": "[parameters('networkInterfaces_esg_2376_00186_name')]",
            "apiVersion": "2017-06-01",
            "location": "centralus",
            "scale": null,
            "properties": {
                "provisioningState": "Succeeded",
                "resourceGuid": "791c2c18-535a-419e-be34-dcdb4de5e9ef",
                "ipConfigurations": [
                    {
                        "name": "ipconfig1",
                        "etag": "W/\"ebec2a24-7e6f-4e72-af77-8ca31e91c7a7\"",
                        "properties": {
                            "provisioningState": "Succeeded",
                            "privateIPAddress": "193.168.1.6",
                            "privateIPAllocationMethod": "Dynamic",
                            "publicIPAddress": {
                                "id": "[resourceId('Microsoft.Network/publicIPAddresses', parameters('publicIPAddresses_ESG_2376_001_ip_name'))]"
                            },
                            "subnet": {
                                "id": "[resourceId('Microsoft.Network/virtualNetworks/subnets', parameters('virtualNetworks_ESG1_name'), parameters('subnets_ESG1Subnet_name'))]"
                            },
                            "primary": true,
                            "privateIPAddressVersion": "IPv4"
                        }
                    }
                ],
                "dnsSettings": {
                    "dnsServers": [],
                    "appliedDnsServers": [],
                    "internalDomainNameSuffix": "1ctjtyorjxru3j4esn4ffuxwne.gx.internal.cloudapp.net"
                },
                "macAddress": "00-0D-3A-93-D2-5E",
                "enableAcceleratedNetworking": false,
                "enableIPForwarding": false,
                "networkSecurityGroup": {
                    "id": "[resourceId('Microsoft.Network/networkSecurityGroups', parameters('networkSecurityGroups_ESG1nsg_name'))]"
                },
                "primary": true,
                "virtualMachine": {
                    "id": "[resourceId('Microsoft.Compute/virtualMachines', parameters('virtualMachines_ESG_2376_001_name'))]"
                }
            },
            "dependsOn": [
                "[resourceId('Microsoft.Network/publicIPAddresses', parameters('publicIPAddresses_ESG_2376_001_ip_name'))]",
                "[resourceId('Microsoft.Network/virtualNetworks/subnets', parameters('virtualNetworks_ESG1_name'), parameters('subnets_ESG1Subnet_name'))]",
                "[resourceId('Microsoft.Network/networkSecurityGroups', parameters('networkSecurityGroups_ESG1nsg_name'))]"
            ]
        },
        {
            "comments": "Generalized from resource: '/subscriptions/ee4f28c5-8b36-4e60-bae1-b37a145063f7/resourceGroups/ESG1/providers/Microsoft.Network/networkInterfaces/esg-2376-002907'.",
            "type": "Microsoft.Network/networkInterfaces",
            "name": "[parameters('networkInterfaces_esg_2376_002907_name')]",
            "apiVersion": "2017-06-01",
            "location": "centralus",
            "scale": null,
            "properties": {
                "provisioningState": "Succeeded",
                "resourceGuid": "7def1b47-12f3-46f5-a9bf-dc16280f9383",
                "ipConfigurations": [
                    {
                        "name": "ipconfig1",
                        "etag": "W/\"2a759b3c-e288-43c1-b576-ca7d34135937\"",
                        "properties": {
                            "provisioningState": "Succeeded",
                            "privateIPAddress": "193.168.1.4",
                            "privateIPAllocationMethod": "Dynamic",
                            "publicIPAddress": {
                                "id": "[resourceId('Microsoft.Network/publicIPAddresses', parameters('publicIPAddresses_ESG_2376_002_ip_name'))]"
                            },
                            "subnet": {
                                "id": "[resourceId('Microsoft.Network/virtualNetworks/subnets', parameters('virtualNetworks_ESG1_name'), parameters('subnets_ESG1Subnet_name'))]"
                            },
                            "primary": true,
                            "privateIPAddressVersion": "IPv4"
                        }
                    }
                ],
                "dnsSettings": {
                    "dnsServers": [],
                    "appliedDnsServers": [],
                    "internalDomainNameSuffix": "1ctjtyorjxru3j4esn4ffuxwne.gx.internal.cloudapp.net"
                },
                "macAddress": "00-0D-3A-90-8A-0A",
                "enableAcceleratedNetworking": false,
                "enableIPForwarding": false,
                "networkSecurityGroup": {
                    "id": "[resourceId('Microsoft.Network/networkSecurityGroups', parameters('networkSecurityGroups_ESG1nsg_name'))]"
                },
                "primary": true,
                "virtualMachine": {
                    "id": "[resourceId('Microsoft.Compute/virtualMachines', parameters('virtualMachines_ESG_2376_002_name'))]"
                }
            },
            "dependsOn": [
                "[resourceId('Microsoft.Network/publicIPAddresses', parameters('publicIPAddresses_ESG_2376_002_ip_name'))]",
                "[resourceId('Microsoft.Network/virtualNetworks/subnets', parameters('virtualNetworks_ESG1_name'), parameters('subnets_ESG1Subnet_name'))]",
                "[resourceId('Microsoft.Network/networkSecurityGroups', parameters('networkSecurityGroups_ESG1nsg_name'))]"
            ]
        },
        {
            "comments": "Generalized from resource: '/subscriptions/ee4f28c5-8b36-4e60-bae1-b37a145063f7/resourceGroups/ESG1/providers/Microsoft.Network/networkInterfaces/Pinterface'.",
            "type": "Microsoft.Network/networkInterfaces",
            "name": "[parameters('networkInterfaces_Pinterface_name')]",
            "apiVersion": "2017-06-01",
            "location": "centralus",
            "scale": null,
            "properties": {
                "provisioningState": "Succeeded",
                "resourceGuid": "61b6f003-37b2-4de3-8453-85fd886e7ec8",
                "ipConfigurations": [
                    {
                        "name": "ipconfig1",
                        "etag": "W/\"d666783d-70e3-499e-ac0c-c3faf7115664\"",
                        "properties": {
                            "provisioningState": "Succeeded",
                            "privateIPAddress": "193.168.1.5",
                            "privateIPAllocationMethod": "Dynamic",
                            "subnet": {
                                "id": "[resourceId('Microsoft.Network/virtualNetworks/subnets', parameters('virtualNetworks_ESG1_name'), parameters('subnets_ESG1Subnet_name'))]"
                            },
                            "primary": true,
                            "privateIPAddressVersion": "IPv4",
                            "loadBalancerBackendAddressPools": [
                                {
                                    "id": "[concat(resourceId('Microsoft.Network/loadBalancers', parameters('loadBalancers_esgLoadBalancer_name')), '/backendAddressPools/ESG1Backpool')]"
                                }
                            ]
                        }
                    }
                ],
                "dnsSettings": {
                    "dnsServers": [],
                    "appliedDnsServers": [],
                    "internalDomainNameSuffix": "1ctjtyorjxru3j4esn4ffuxwne.gx.internal.cloudapp.net"
                },
                "macAddress": "00-0D-3A-91-A5-CC",
                "enableAcceleratedNetworking": false,
                "enableIPForwarding": false,
                "networkSecurityGroup": {
                    "id": "[resourceId('Microsoft.Network/networkSecurityGroups', parameters('networkSecurityGroups_ESG1nsg_name'))]"
                },
                "primary": false,
                "virtualMachine": {
                    "id": "[resourceId('Microsoft.Compute/virtualMachines', parameters('virtualMachines_ESG_2376_001_name'))]"
                }
            },
            "dependsOn": [
                "[resourceId('Microsoft.Network/virtualNetworks/subnets', parameters('virtualNetworks_ESG1_name'), parameters('subnets_ESG1Subnet_name'))]",
                "[resourceId('Microsoft.Network/loadBalancers', parameters('loadBalancers_esgLoadBalancer_name'))]",
                "[resourceId('Microsoft.Network/networkSecurityGroups', parameters('networkSecurityGroups_ESG1nsg_name'))]"
            ]
        },
        {
            "comments": "Generalized from resource: '/subscriptions/ee4f28c5-8b36-4e60-bae1-b37a145063f7/resourceGroups/ESG1/providers/Microsoft.Network/networkInterfaces/Pinterface-002'.",
            "type": "Microsoft.Network/networkInterfaces",
            "name": "[parameters('networkInterfaces_Pinterface_002_name')]",
            "apiVersion": "2017-06-01",
            "location": "centralus",
            "scale": null,
            "properties": {
                "provisioningState": "Succeeded",
                "resourceGuid": "f0946f1c-6459-47df-a529-6bf3066e1f32",
                "ipConfigurations": [
                    {
                        "name": "ipconfig1",
                        "etag": "W/\"69e96201-82b9-4a61-9c29-00401dca7bdc\"",
                        "properties": {
                            "provisioningState": "Succeeded",
                            "privateIPAddress": "193.168.1.8",
                            "privateIPAllocationMethod": "Dynamic",
                            "subnet": {
                                "id": "[resourceId('Microsoft.Network/virtualNetworks/subnets', parameters('virtualNetworks_ESG1_name'), parameters('subnets_ESG1Subnet_name'))]"
                            },
                            "primary": true,
                            "privateIPAddressVersion": "IPv4"
                        }
                    }
                ],
                "dnsSettings": {
                    "dnsServers": [],
                    "appliedDnsServers": [],
                    "internalDomainNameSuffix": "1ctjtyorjxru3j4esn4ffuxwne.gx.internal.cloudapp.net"
                },
                "macAddress": "00-0D-3A-94-32-78",
                "enableAcceleratedNetworking": false,
                "enableIPForwarding": false,
                "primary": false,
                "virtualMachine": {
                    "id": "[resourceId('Microsoft.Compute/virtualMachines', parameters('virtualMachines_ESG_2376_002_name'))]"
                }
            },
            "dependsOn": [
                "[resourceId('Microsoft.Network/virtualNetworks/subnets', parameters('virtualNetworks_ESG1_name'), parameters('subnets_ESG1Subnet_name'))]"
            ]
        },
        {
            "comments": "Generalized from resource: '/subscriptions/ee4f28c5-8b36-4e60-bae1-b37a145063f7/resourceGroups/ESG1/providers/Microsoft.Network/networkSecurityGroups/ESG1nsg'.",
            "type": "Microsoft.Network/networkSecurityGroups",
            "name": "[parameters('networkSecurityGroups_ESG1nsg_name')]",
            "apiVersion": "2017-06-01",
            "location": "centralus",
            "scale": null,
            "properties": {
                "provisioningState": "Succeeded",
                "resourceGuid": "f9c9b680-b30b-46ec-a10a-f5eb04b3901b",
                "securityRules": [
                    {
                        "name": "SMTP",
                        "etag": "W/\"f7df9133-751f-45a0-9627-3205cd02d73f\"",
                        "properties": {
                            "provisioningState": "Succeeded",
                            "protocol": "TCP",
                            "sourcePortRange": "*",
                            "destinationPortRange": "25",
                            "sourceAddressPrefix": "*",
                            "destinationAddressPrefix": "*",
                            "access": "Allow",
                            "priority": 100,
                            "direction": "Inbound",
                            "sourceAddressPrefixes": [],
                            "destinationAddressPrefixes": []
                        }
                    },
                    {
                        "name": "SMTPoutbound",
                        "etag": "W/\"f7df9133-751f-45a0-9627-3205cd02d73f\"",
                        "properties": {
                            "provisioningState": "Succeeded",
                            "protocol": "TCP",
                            "sourcePortRange": "*",
                            "destinationPortRange": "25",
                            "sourceAddressPrefix": "*",
                            "destinationAddressPrefix": "*",
                            "access": "Allow",
                            "priority": 100,
                            "direction": "Outbound",
                            "sourceAddressPrefixes": [],
                            "destinationAddressPrefixes": []
                        }
                    },
                    {
                        "name": "SSH",
                        "etag": "W/\"f7df9133-751f-45a0-9627-3205cd02d73f\"",
                        "properties": {
                            "provisioningState": "Succeeded",
                            "protocol": "TCP",
                            "sourcePortRange": "*",
                            "destinationPortRange": "22",
                            "sourceAddressPrefix": "*",
                            "destinationAddressPrefix": "*",
                            "access": "Allow",
                            "priority": 110,
                            "direction": "Inbound",
                            "sourceAddressPrefixes": [],
                            "destinationAddressPrefixes": []
                        }
                    }
                ],
                "defaultSecurityRules": [
                    {
                        "name": "AllowVnetInBound",
                        "etag": "W/\"f7df9133-751f-45a0-9627-3205cd02d73f\"",
                        "properties": {
                            "provisioningState": "Succeeded",
                            "description": "Allow inbound traffic from all VMs in VNET",
                            "protocol": "*",
                            "sourcePortRange": "*",
                            "destinationPortRange": "*",
                            "sourceAddressPrefix": "VirtualNetwork",
                            "destinationAddressPrefix": "VirtualNetwork",
                            "access": "Allow",
                            "priority": 65000,
                            "direction": "Inbound",
                            "sourceAddressPrefixes": [],
                            "destinationAddressPrefixes": []
                        }
                    },
                    {
                        "name": "AllowAzureLoadBalancerInBound",
                        "etag": "W/\"f7df9133-751f-45a0-9627-3205cd02d73f\"",
                        "properties": {
                            "provisioningState": "Succeeded",
                            "description": "Allow inbound traffic from azure load balancer",
                            "protocol": "*",
                            "sourcePortRange": "*",
                            "destinationPortRange": "*",
                            "sourceAddressPrefix": "AzureLoadBalancer",
                            "destinationAddressPrefix": "*",
                            "access": "Allow",
                            "priority": 65001,
                            "direction": "Inbound",
                            "sourceAddressPrefixes": [],
                            "destinationAddressPrefixes": []
                        }
                    },
                    {
                        "name": "DenyAllInBound",
                        "etag": "W/\"f7df9133-751f-45a0-9627-3205cd02d73f\"",
                        "properties": {
                            "provisioningState": "Succeeded",
                            "description": "Deny all inbound traffic",
                            "protocol": "*",
                            "sourcePortRange": "*",
                            "destinationPortRange": "*",
                            "sourceAddressPrefix": "*",
                            "destinationAddressPrefix": "*",
                            "access": "Deny",
                            "priority": 65500,
                            "direction": "Inbound",
                            "sourceAddressPrefixes": [],
                            "destinationAddressPrefixes": []
                        }
                    },
                    {
                        "name": "AllowVnetOutBound",
                        "etag": "W/\"f7df9133-751f-45a0-9627-3205cd02d73f\"",
                        "properties": {
                            "provisioningState": "Succeeded",
                            "description": "Allow outbound traffic from all VMs to all VMs in VNET",
                            "protocol": "*",
                            "sourcePortRange": "*",
                            "destinationPortRange": "*",
                            "sourceAddressPrefix": "VirtualNetwork",
                            "destinationAddressPrefix": "VirtualNetwork",
                            "access": "Allow",
                            "priority": 65000,
                            "direction": "Outbound",
                            "sourceAddressPrefixes": [],
                            "destinationAddressPrefixes": []
                        }
                    },
                    {
                        "name": "AllowInternetOutBound",
                        "etag": "W/\"f7df9133-751f-45a0-9627-3205cd02d73f\"",
                        "properties": {
                            "provisioningState": "Succeeded",
                            "description": "Allow outbound traffic from all VMs to Internet",
                            "protocol": "*",
                            "sourcePortRange": "*",
                            "destinationPortRange": "*",
                            "sourceAddressPrefix": "*",
                            "destinationAddressPrefix": "Internet",
                            "access": "Allow",
                            "priority": 65001,
                            "direction": "Outbound",
                            "sourceAddressPrefixes": [],
                            "destinationAddressPrefixes": []
                        }
                    },
                    {
                        "name": "DenyAllOutBound",
                        "etag": "W/\"f7df9133-751f-45a0-9627-3205cd02d73f\"",
                        "properties": {
                            "provisioningState": "Succeeded",
                            "description": "Deny all outbound traffic",
                            "protocol": "*",
                            "sourcePortRange": "*",
                            "destinationPortRange": "*",
                            "sourceAddressPrefix": "*",
                            "destinationAddressPrefix": "*",
                            "access": "Deny",
                            "priority": 65500,
                            "direction": "Outbound",
                            "sourceAddressPrefixes": [],
                            "destinationAddressPrefixes": []
                        }
                    }
                ]
            },
            "dependsOn": []
        },
        {
            "comments": "Generalized from resource: '/subscriptions/ee4f28c5-8b36-4e60-bae1-b37a145063f7/resourceGroups/ESG1/providers/Microsoft.Network/networkSecurityGroups/ESG2nsg'.",
            "type": "Microsoft.Network/networkSecurityGroups",
            "name": "[parameters('networkSecurityGroups_ESG2nsg_name')]",
            "apiVersion": "2017-06-01",
            "location": "centralus",
            "scale": null,
            "properties": {
                "provisioningState": "Succeeded",
                "resourceGuid": "09790c58-d905-4d5d-961b-142fe29e88f7",
                "securityRules": [
                    {
                        "name": "FTP",
                        "etag": "W/\"dfe1f1b0-bce8-4f22-84b9-95289f051681\"",
                        "properties": {
                            "provisioningState": "Succeeded",
                            "protocol": "TCP",
                            "sourcePortRange": "*",
                            "destinationPortRange": "21",
                            "sourceAddressPrefix": "*",
                            "destinationAddressPrefix": "*",
                            "access": "Allow",
                            "priority": 100,
                            "direction": "Inbound",
                            "sourceAddressPrefixes": [],
                            "destinationAddressPrefixes": []
                        }
                    }
                ],
                "defaultSecurityRules": [
                    {
                        "name": "AllowVnetInBound",
                        "etag": "W/\"dfe1f1b0-bce8-4f22-84b9-95289f051681\"",
                        "properties": {
                            "provisioningState": "Succeeded",
                            "description": "Allow inbound traffic from all VMs in VNET",
                            "protocol": "*",
                            "sourcePortRange": "*",
                            "destinationPortRange": "*",
                            "sourceAddressPrefix": "VirtualNetwork",
                            "destinationAddressPrefix": "VirtualNetwork",
                            "access": "Allow",
                            "priority": 65000,
                            "direction": "Inbound",
                            "sourceAddressPrefixes": [],
                            "destinationAddressPrefixes": []
                        }
                    },
                    {
                        "name": "AllowAzureLoadBalancerInBound",
                        "etag": "W/\"dfe1f1b0-bce8-4f22-84b9-95289f051681\"",
                        "properties": {
                            "provisioningState": "Succeeded",
                            "description": "Allow inbound traffic from azure load balancer",
                            "protocol": "*",
                            "sourcePortRange": "*",
                            "destinationPortRange": "*",
                            "sourceAddressPrefix": "AzureLoadBalancer",
                            "destinationAddressPrefix": "*",
                            "access": "Allow",
                            "priority": 65001,
                            "direction": "Inbound",
                            "sourceAddressPrefixes": [],
                            "destinationAddressPrefixes": []
                        }
                    },
                    {
                        "name": "DenyAllInBound",
                        "etag": "W/\"dfe1f1b0-bce8-4f22-84b9-95289f051681\"",
                        "properties": {
                            "provisioningState": "Succeeded",
                            "description": "Deny all inbound traffic",
                            "protocol": "*",
                            "sourcePortRange": "*",
                            "destinationPortRange": "*",
                            "sourceAddressPrefix": "*",
                            "destinationAddressPrefix": "*",
                            "access": "Deny",
                            "priority": 65500,
                            "direction": "Inbound",
                            "sourceAddressPrefixes": [],
                            "destinationAddressPrefixes": []
                        }
                    },
                    {
                        "name": "AllowVnetOutBound",
                        "etag": "W/\"dfe1f1b0-bce8-4f22-84b9-95289f051681\"",
                        "properties": {
                            "provisioningState": "Succeeded",
                            "description": "Allow outbound traffic from all VMs to all VMs in VNET",
                            "protocol": "*",
                            "sourcePortRange": "*",
                            "destinationPortRange": "*",
                            "sourceAddressPrefix": "VirtualNetwork",
                            "destinationAddressPrefix": "VirtualNetwork",
                            "access": "Allow",
                            "priority": 65000,
                            "direction": "Outbound",
                            "sourceAddressPrefixes": [],
                            "destinationAddressPrefixes": []
                        }
                    },
                    {
                        "name": "AllowInternetOutBound",
                        "etag": "W/\"dfe1f1b0-bce8-4f22-84b9-95289f051681\"",
                        "properties": {
                            "provisioningState": "Succeeded",
                            "description": "Allow outbound traffic from all VMs to Internet",
                            "protocol": "*",
                            "sourcePortRange": "*",
                            "destinationPortRange": "*",
                            "sourceAddressPrefix": "*",
                            "destinationAddressPrefix": "Internet",
                            "access": "Allow",
                            "priority": 65001,
                            "direction": "Outbound",
                            "sourceAddressPrefixes": [],
                            "destinationAddressPrefixes": []
                        }
                    },
                    {
                        "name": "DenyAllOutBound",
                        "etag": "W/\"dfe1f1b0-bce8-4f22-84b9-95289f051681\"",
                        "properties": {
                            "provisioningState": "Succeeded",
                            "description": "Deny all outbound traffic",
                            "protocol": "*",
                            "sourcePortRange": "*",
                            "destinationPortRange": "*",
                            "sourceAddressPrefix": "*",
                            "destinationAddressPrefix": "*",
                            "access": "Deny",
                            "priority": 65500,
                            "direction": "Outbound",
                            "sourceAddressPrefixes": [],
                            "destinationAddressPrefixes": []
                        }
                    }
                ]
            },
            "dependsOn": []
        },
        {
            "comments": "Generalized from resource: '/subscriptions/ee4f28c5-8b36-4e60-bae1-b37a145063f7/resourceGroups/ESG1/providers/Microsoft.Network/publicIPAddresses/ESG-2376-001-ip'.",
            "type": "Microsoft.Network/publicIPAddresses",
            "name": "[parameters('publicIPAddresses_ESG_2376_001_ip_name')]",
            "apiVersion": "2017-06-01",
            "location": "centralus",
            "scale": null,
            "properties": {
                "provisioningState": "Succeeded",
                "resourceGuid": "e2ad565c-693f-46fd-ad5c-dc616be97f79",
                "ipAddress": "52.165.219.198",
                "publicIPAddressVersion": "IPv4",
                "publicIPAllocationMethod": "Dynamic",
                "idleTimeoutInMinutes": 4
            },
            "dependsOn": []
        },
        {
            "comments": "Generalized from resource: '/subscriptions/ee4f28c5-8b36-4e60-bae1-b37a145063f7/resourceGroups/ESG1/providers/Microsoft.Network/publicIPAddresses/ESG-2376-002-ip'.",
            "type": "Microsoft.Network/publicIPAddresses",
            "name": "[parameters('publicIPAddresses_ESG_2376_002_ip_name')]",
            "apiVersion": "2017-06-01",
            "location": "centralus",
            "scale": null,
            "properties": {
                "provisioningState": "Succeeded",
                "resourceGuid": "a660f60b-c5ba-4b64-a77d-d53459c84df6",
                "ipAddress": "52.165.216.107",
                "publicIPAddressVersion": "IPv4",
                "publicIPAllocationMethod": "Dynamic",
                "idleTimeoutInMinutes": 4
            },
            "dependsOn": []
        },
        {
            "comments": "Generalized from resource: '/subscriptions/ee4f28c5-8b36-4e60-bae1-b37a145063f7/resourceGroups/ESG1/providers/Microsoft.Network/publicIPAddresses/esg1gatewaypublicIP'.",
            "type": "Microsoft.Network/publicIPAddresses",
            "name": "[parameters('publicIPAddresses_esg1gatewaypublicIP_name')]",
            "apiVersion": "2017-06-01",
            "location": "centralus",
            "scale": null,
            "properties": {
                "provisioningState": "Succeeded",
                "resourceGuid": "fb135fdd-335f-45fc-a923-8e42ee15500e",
                "ipAddress": "52.176.157.66",
                "publicIPAddressVersion": "IPv4",
                "publicIPAllocationMethod": "Dynamic",
                "idleTimeoutInMinutes": 4
            },
            "dependsOn": []
        },
        {
            "comments": "Generalized from resource: '/subscriptions/ee4f28c5-8b36-4e60-bae1-b37a145063f7/resourceGroups/ESG1/providers/Microsoft.Network/publicIPAddresses/lbip'.",
            "type": "Microsoft.Network/publicIPAddresses",
            "name": "[parameters('publicIPAddresses_lbip_name')]",
            "apiVersion": "2017-06-01",
            "location": "centralus",
            "scale": null,
            "properties": {
                "provisioningState": "Succeeded",
                "resourceGuid": "a72fb50f-0f6e-446c-8739-8a1b4cccee9a",
                "ipAddress": "52.173.139.236",
                "publicIPAddressVersion": "IPv4",
                "publicIPAllocationMethod": "Static",
                "idleTimeoutInMinutes": 4
            },
            "dependsOn": []
        },
        {
            "comments": "Generalized from resource: '/subscriptions/ee4f28c5-8b36-4e60-bae1-b37a145063f7/resourceGroups/ESG1/providers/Microsoft.Network/virtualNetworkGateways/VNetGatewayESG1'.",
            "type": "Microsoft.Network/virtualNetworkGateways",
            "name": "[parameters('virtualNetworkGateways_VNetGatewayESG1_name')]",
            "apiVersion": "2017-06-01",
            "location": "centralus",
            "scale": null,
            "properties": {
                "resourceGuid": "11643302-03e9-4498-8964-0c1853246686",
                "ipConfigurations": [
                    {
                        "name": "default",
                        "etag": "W/\"79ce5726-dc29-4d7c-ba5c-32bb1855af60\"",
                        "properties": {
                            "privateIPAllocationMethod": "Dynamic",
                            "publicIPAddress": {
                                "id": "[resourceId('Microsoft.Network/publicIPAddresses', parameters('publicIPAddresses_esg1gatewaypublicIP_name'))]"
                            },
                            "subnet": {
                                "id": "[resourceId('Microsoft.Network/virtualNetworks/subnets', parameters('virtualNetworks_ESG1_name'), parameters('subnets_GatewaySubnet_name'))]"
                            }
                        }
                    }
                ],
                "sku": {
                    "name": "Standard",
                    "tier": "Standard",
                    "capacity": 2
                },
                "gatewayType": "Vpn",
                "vpnType": "RouteBased",
                "enableBgp": false,
                "activeActive": false,
                "vpnClientConfiguration": {
                    "vpnClientAddressPool": {
                        "addressPrefixes": [
                            "182.16.0.0/24"
                        ]
                    },
                    "vpnClientProtocols": [
                        "SSTP",
                        "IkeV2"
                    ],
                    "vpnClientRootCertificates": [
                        {
                            "name": "RootCert1",
                            "etag": "W/\"79ce5726-dc29-4d7c-ba5c-32bb1855af60\"",
                            "properties": {
                                "publicCertData": "MIIC7zCCAdegAwIBAgIQVBHUpmIs1IhDqergiU76fDANBgkqhkiG9w0BAQsFADAa MRgwFgYDVQQDDA9UQ0F6dXJlUm9vdENlcnQwHhcNMTcwNDA0MTU1OTQ0WhcNMTgw NDA0MTYxOTQ0WjAaMRgwFgYDVQQDDA9UQ0F6dXJlUm9vdENlcnQwggEiMA0GCSqG SIb3DQEBAQUAA4IBDwAwggEKAoIBAQDRKyJboLxaU7EC/p1FPQy1HNOqGi7Ymz+I 4zfxYegpT52HAzaOuxpQD69kYM9JdLU2cRLVNaG/M9WJdlHs8CcYJqmMAmMg3a/U gCW2vXNzhENbKiCHLdTwQZyN50IBQf7/VOd1sVdy9YRSOynarRPv1ehxX0MK4okJ K7MQ4dm/3NwMrwyf57IqzrAEZvWxz5/UD1gWwuPqYWYqYjKovIEROv+iG0iNmaz6 nZaJAXCV8HS7lNr6awBtq8swwka4ePYG8twMXXvcoMSOsMY6rq/YjB6bc4dGg5Td HYlyWazXg/eDvu1P7zDnbJ9uKfyNq4Uf4Lb+Kutk8e1fgrSrcA3VAgMBAAGjMTAv MA4GA1UdDwEB/wQEAwICBDAdBgNVHQ4EFgQUTz6CO8wg5zPFHtunGs4hOkdmiTQw DQYJKoZIhvcNAQELBQADggEBAB1z3d764RqZYh/A6RXZZs9vIYTH8RU4xg6NW4PS Es6/ks981L5cQjZ7U4gvYmlpeATiBO9cPbbEJaI43V2zsknfy3Fs+iCGe9HVw6lG 4WRggZvhEeCTrcjjfTrJ5MyZgzGNVqEFj3gALp3lD6Li15PDaTKHdGbYBxeIJEWQ 20FuMj2dkDCUZSkYeeViIv0kIO8lS0+Hog5iVygDT+mVqBFmwG/ow+thpAQtzkuO WFJwRR5gQ4h3PaGwiDQ8Wxt5o2UsO1ocEYC8A4VX6TnSzqjnDH1aIak/Aq+Wiiq4 +I0kbqPUdBAmwG1g5MMMGOJy2RabfpihNM6T1hCOoqJlhcc="
                            }
                        }
                    ],
                    "vpnClientRevokedCertificates": []
                },
                "bgpSettings": {
                    "asn": 65515,
                    "bgpPeeringAddress": "193.168.0.254",
                    "peerWeight": 0
                }
            },
            "dependsOn": [
                "[resourceId('Microsoft.Network/publicIPAddresses', parameters('publicIPAddresses_esg1gatewaypublicIP_name'))]",
                "[resourceId('Microsoft.Network/virtualNetworks/subnets', parameters('virtualNetworks_ESG1_name'), parameters('subnets_GatewaySubnet_name'))]"
            ]
        },
        {
            "comments": "Generalized from resource: '/subscriptions/ee4f28c5-8b36-4e60-bae1-b37a145063f7/resourceGroups/ESG1/providers/Microsoft.Network/virtualNetworks/ESG1'.",
            "type": "Microsoft.Network/virtualNetworks",
            "name": "[parameters('virtualNetworks_ESG1_name')]",
            "apiVersion": "2017-06-01",
            "location": "centralus",
            "scale": null,
            "properties": {
                "provisioningState": "Succeeded",
                "resourceGuid": "e199a6d8-4dd1-4ee3-a7c4-937c52d2f66c",
                "addressSpace": {
                    "addressPrefixes": [
                        "193.168.0.0/16"
                    ]
                },
                "subnets": [
                    {
                        "name": "[concat(parameters('virtualNetworks_ESG1_name'),'Subnet')]",
                        "etag": "W/\"81e18364-b3ba-427e-aca1-9102e40c4744\"",
                        "properties": {
                            "provisioningState": "Succeeded",
                            "addressPrefix": "193.168.1.0/24",
                            "networkSecurityGroup": {
                                "id": "[resourceId('Microsoft.Network/networkSecurityGroups', parameters('networkSecurityGroups_ESG1nsg_name'))]"
                            }
                        }
                    },
                    {
                        "name": "GatewaySubnet",
                        "etag": "W/\"81e18364-b3ba-427e-aca1-9102e40c4744\"",
                        "properties": {
                            "provisioningState": "Succeeded",
                            "addressPrefix": "193.168.0.0/24"
                        }
                    },
                    {
                        "name": "[parameters('subnets_ESG2Subnet_name')]",
                        "etag": "W/\"81e18364-b3ba-427e-aca1-9102e40c4744\"",
                        "properties": {
                            "provisioningState": "Succeeded",
                            "addressPrefix": "193.168.3.0/24"
                        }
                    }
                ],
                "virtualNetworkPeerings": []
            },
            "dependsOn": [
                "[resourceId('Microsoft.Network/networkSecurityGroups', parameters('networkSecurityGroups_ESG1nsg_name'))]"
            ]
        },
        {
            "comments": "Generalized from resource: '/subscriptions/ee4f28c5-8b36-4e60-bae1-b37a145063f7/resourceGroups/ESG1/providers/Microsoft.Network/networkSecurityGroups/ESG1nsg/securityRules/SMTP'.",
            "type": "Microsoft.Network/networkSecurityGroups/securityRules",
            "name": "[concat(parameters('networkSecurityGroups_ESG1nsg_name'), '/', parameters('securityRules_SMTP_name'))]",
            "apiVersion": "2017-06-01",
            "scale": null,
            "properties": {
                "provisioningState": "Succeeded",
                "protocol": "TCP",
                "sourcePortRange": "*",
                "destinationPortRange": "25",
                "sourceAddressPrefix": "*",
                "destinationAddressPrefix": "*",
                "access": "Allow",
                "priority": 100,
                "direction": "Inbound",
                "sourceAddressPrefixes": [],
                "destinationAddressPrefixes": []
            },
            "dependsOn": [
                "[resourceId('Microsoft.Network/networkSecurityGroups', parameters('networkSecurityGroups_ESG1nsg_name'))]"
            ]
        },
        {
            "comments": "Generalized from resource: '/subscriptions/ee4f28c5-8b36-4e60-bae1-b37a145063f7/resourceGroups/ESG1/providers/Microsoft.Network/networkSecurityGroups/ESG1nsg/securityRules/SMTPoutbound'.",
            "type": "Microsoft.Network/networkSecurityGroups/securityRules",
            "name": "[concat(parameters('networkSecurityGroups_ESG1nsg_name'), '/', parameters('securityRules_SMTPoutbound_name'))]",
            "apiVersion": "2017-06-01",
            "scale": null,
            "properties": {
                "provisioningState": "Succeeded",
                "protocol": "TCP",
                "sourcePortRange": "*",
                "destinationPortRange": "25",
                "sourceAddressPrefix": "*",
                "destinationAddressPrefix": "*",
                "access": "Allow",
                "priority": 100,
                "direction": "Outbound",
                "sourceAddressPrefixes": [],
                "destinationAddressPrefixes": []
            },
            "dependsOn": [
                "[resourceId('Microsoft.Network/networkSecurityGroups', parameters('networkSecurityGroups_ESG1nsg_name'))]"
            ]
        },
        {
            "comments": "Generalized from resource: '/subscriptions/ee4f28c5-8b36-4e60-bae1-b37a145063f7/resourceGroups/ESG1/providers/Microsoft.Network/networkSecurityGroups/ESG1nsg/securityRules/SSH'.",
            "type": "Microsoft.Network/networkSecurityGroups/securityRules",
            "name": "[concat(parameters('networkSecurityGroups_ESG1nsg_name'), '/', parameters('securityRules_SSH_name'))]",
            "apiVersion": "2017-06-01",
            "scale": null,
            "properties": {
                "provisioningState": "Succeeded",
                "protocol": "TCP",
                "sourcePortRange": "*",
                "destinationPortRange": "22",
                "sourceAddressPrefix": "*",
                "destinationAddressPrefix": "*",
                "access": "Allow",
                "priority": 110,
                "direction": "Inbound",
                "sourceAddressPrefixes": [],
                "destinationAddressPrefixes": []
            },
            "dependsOn": [
                "[resourceId('Microsoft.Network/networkSecurityGroups', parameters('networkSecurityGroups_ESG1nsg_name'))]"
            ]
        },
        {
            "comments": "Generalized from resource: '/subscriptions/ee4f28c5-8b36-4e60-bae1-b37a145063f7/resourceGroups/ESG1/providers/Microsoft.Network/networkSecurityGroups/ESG2nsg/securityRules/FTP'.",
            "type": "Microsoft.Network/networkSecurityGroups/securityRules",
            "name": "[concat(parameters('networkSecurityGroups_ESG2nsg_name'), '/', parameters('securityRules_FTP_name'))]",
            "apiVersion": "2017-06-01",
            "scale": null,
            "properties": {
                "provisioningState": "Succeeded",
                "protocol": "TCP",
                "sourcePortRange": "*",
                "destinationPortRange": "21",
                "sourceAddressPrefix": "*",
                "destinationAddressPrefix": "*",
                "access": "Allow",
                "priority": 100,
                "direction": "Inbound",
                "sourceAddressPrefixes": [],
                "destinationAddressPrefixes": []
            },
            "dependsOn": [
                "[resourceId('Microsoft.Network/networkSecurityGroups', parameters('networkSecurityGroups_ESG2nsg_name'))]"
            ]
        },
        {
            "comments": "Generalized from resource: '/subscriptions/ee4f28c5-8b36-4e60-bae1-b37a145063f7/resourceGroups/ESG1/providers/Microsoft.Network/virtualNetworks/ESG1/subnets/ESG1Subnet'.",
            "type": "Microsoft.Network/virtualNetworks/subnets",
            "name": "[concat(parameters('virtualNetworks_ESG1_name'), '/', parameters('subnets_ESG1Subnet_name'))]",
            "apiVersion": "2017-06-01",
            "scale": null,
            "properties": {
                "provisioningState": "Succeeded",
                "addressPrefix": "193.168.1.0/24",
                "networkSecurityGroup": {
                    "id": "[resourceId('Microsoft.Network/networkSecurityGroups', parameters('networkSecurityGroups_ESG1nsg_name'))]"
                }
            },
            "dependsOn": [
                "[resourceId('Microsoft.Network/virtualNetworks', parameters('virtualNetworks_ESG1_name'))]",
                "[resourceId('Microsoft.Network/networkSecurityGroups', parameters('networkSecurityGroups_ESG1nsg_name'))]"
            ]
        },
        {
            "comments": "Generalized from resource: '/subscriptions/ee4f28c5-8b36-4e60-bae1-b37a145063f7/resourceGroups/ESG1/providers/Microsoft.Network/virtualNetworks/ESG1/subnets/GatewaySubnet'.",
            "type": "Microsoft.Network/virtualNetworks/subnets",
            "name": "[concat(parameters('virtualNetworks_ESG1_name'), '/', parameters('subnets_GatewaySubnet_name'))]",
            "apiVersion": "2017-06-01",
            "scale": null,
            "properties": {
                "provisioningState": "Succeeded",
                "addressPrefix": "193.168.0.0/24"
            },
            "dependsOn": [
                "[resourceId('Microsoft.Network/virtualNetworks', parameters('virtualNetworks_ESG1_name'))]"
            ]
        },
        {
            "comments": "Generalized from resource: '/subscriptions/ee4f28c5-8b36-4e60-bae1-b37a145063f7/resourceGroups/ESG1/providers/Microsoft.Network/virtualNetworks/ESG1/subnets/ESG2Subnet'.",
            "type": "Microsoft.Network/virtualNetworks/subnets",
            "name": "[concat(parameters('virtualNetworks_ESG1_name'), '/', parameters('subnets_ESG2Subnet_name'))]",
            "apiVersion": "2017-06-01",
            "scale": null,
            "properties": {
                "provisioningState": "Succeeded",
                "addressPrefix": "193.168.3.0/24"
            },
            "dependsOn": [
                "[resourceId('Microsoft.Network/virtualNetworks', parameters('virtualNetworks_ESG1_name'))]"
            ]
        }
    ]
}